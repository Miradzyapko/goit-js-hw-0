{"mappings":"gfAAAA,EAAA,S,iBAKA,SAASC,EAAcC,EAAUC,GACTC,KAAKC,Q,CAS7B,IAAMC,EAAQC,SAASC,cAAc,uBAC9BC,EAAOF,SAASC,cAAc,sBAC7BE,EAASH,SAASC,cAAc,wBAuBxC,SAASP,EAAcC,EAAUS,GAC/B,IAAMC,EAAU,IAAIC,SAAQ,SAACC,EAASC,IAMxC,SAA+Bb,EAAUc,EAAOF,EAASC,GACvDE,YAAW,WACab,KAAKC,SAAW,GAEpCS,EAAQ,CAAEZ,WAAUC,MAAAa,IAEpBD,EAAO,CAAEb,WAAUC,MAAAa,G,GAEpBA,E,CAbDE,CAAsBhB,EAAUS,EAAOG,EAASC,E,IAElD,OAAOH,C,CAaT,SAASO,EAAUC,G,IAAElB,EAAFkB,EAAElB,SAAUmB,EAAZD,EAAYjB,MAC7BmB,EAAAC,OAAOC,QAAQ,qBAAoCC,OAAfvB,EAAS,QAAYuB,OAANJ,EAAM,M,CAG3D,SAASK,EAAQN,G,IAAElB,EAAFkB,EAAElB,SAAUyB,EAAZP,EAAYjB,MAC3BmB,EAAAC,OAAOK,QAAQ,mBAAkCH,OAAfvB,EAAS,QAAYuB,OAANE,EAAM,M,CA5CrCpB,SAASC,cAAc,yBAOhCqB,iBAAiB,SAG5B,SAA4BC,GAC1BA,EAAMC,iBAIN,IAHA,IAAMC,EAAaC,OAAO3B,EAAM4B,OAC1BC,EAAYF,OAAOxB,EAAKyB,OACxBE,EAAkB1B,EAAOwB,MACtBG,EAAI,EAAGA,EAAID,EAAiBC,GAAK,EACxCpC,EAAc,EAAIoC,EAAGL,EAAaK,EAAIF,GACnCG,MAAK,SAAAlB,G,OAAyBD,EAAU,CAAEjB,SAA1BkB,EAARlB,SAA4CC,MAA7BiB,EAALjB,O,IAClBoC,OAAM,SAAAnB,G,OAAyBM,EAAQ,CAAExB,SAAxBkB,EAARlB,SAA0CC,MAA3BiB,EAALjB,O","sources":["src/js/03-promises.js"],"sourcesContent":["import Notiflix from 'notiflix';\n\n\nimport { Notify } from 'notiflix/build/notiflix-notify-aio';\n\nfunction createPromise(position, delay) {\n  const shouldResolve = Math.random() > 0.3;\n  if (shouldResolve) {\n    // Fulfill\n  } else {\n    // Reject\n  }\n}\n//\n\nconst delay = document.querySelector('input[name=\"delay\"]');\n const step = document.querySelector('input[name=\"step\"]');\n const  amount = document.querySelector('input[name=\"amount\"]');\n const btnPromise = document.querySelector('button[type=\"submit\"]');\n\n\n\n\n\n\nbtnPromise.addEventListener('click', startCreatePromise);\n\n\nfunction startCreatePromise(event) {\n  event.preventDefault();\n  const firstDelay = Number(delay.value);\n  const delayStep = Number(step.value);\n  const amountInputUser = amount.value;\n  for (let i = 0; i < amountInputUser; i += 1) {\n    createPromise(1 + i, firstDelay + i * delayStep)\n      .then(({ position, delay }) => onSuccess({ position, delay }))\n      .catch(({ position, delay }) => onError({ position, delay }));\n  }\n}\n\nfunction createPromise(position, delay) {\n  const promise = new Promise((resolve, reject) => {\n    getPromiseFromBackend(position, delay, resolve, reject);\n  });\n  return promise;\n}\n\nfunction getPromiseFromBackend(position, delay, resolve, reject) {\n  setTimeout(() => {\n    const shouldResolve = Math.random() > 0.3;\n    if (shouldResolve) {\n      resolve({ position, delay });\n    } else {\n      reject({ position, delay });\n    }\n  }, delay);\n}\nfunction onSuccess({ position, delay }) {\n  Notify.success(`Fulfilled promise ${position} in ${delay}ms`);\n}\n\nfunction onError({ position, delay }) {\n  Notify.failure(`Rejcted promise ${position} in ${delay}ms`);\n}"],"names":["parcelRequire","$ce04d3a99e08e73b$var$createPromise","position","delay","Math","random","$ce04d3a99e08e73b$var$delay","document","querySelector","$ce04d3a99e08e73b$var$step","$ce04d3a99e08e73b$var$amount","delay3","promise","Promise","resolve","reject","delay4","setTimeout","$ce04d3a99e08e73b$var$getPromiseFromBackend","$ce04d3a99e08e73b$var$onSuccess","param","delay5","$h6c0i","Notify","success","concat","$ce04d3a99e08e73b$var$onError","delay6","failure","addEventListener","event","preventDefault","firstDelay","Number","value","delayStep","amountInputUser","i","then","catch"],"version":3,"file":"03-promises.6e300b25.js.map"}